@model IEnumerable<PhotoGallery.Models.Photo>

@{
    ViewBag.Title = "MyGallery";
}

<h2>My Gallery</h2>

<p>
    @Html.ActionLink("Upload new photo", "Create")
</p>


<div class="container">
    <div class="row">
        @foreach (var photo in Model)
        {
            <div class="col-sm-3">
                <h4>
                    @photo.Title
                </h4>
                <div>
                    @if (photo.Image != null)
                {
                    var base64 = Convert.ToBase64String(photo.Image);
                    var imgsrc = string.Format("data:file/gif;base64,{0}", base64);
                        <img src="@imgsrc" style="width: 150px; height:100px;" />
                    }
                    else
                    {
                        <img src="http://wonkville.net/wp-content/uploads/2016/04/No-image-available.jpg" style="width: 150px; height:100px" />
                    }
                    <div>
                        @Html.ActionLink("Edit", "Edit", new { id = photo.Id }) |
                        @Html.ActionLink("Details", "Details", new { id = photo.Id }) |
                        @Html.ActionLink("Delete", "Delete", new { id = photo.Id })
                    </div>
                </div>
            </div>
        }
    </div>
</div>